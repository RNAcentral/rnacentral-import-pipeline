params {
  databases {

    biogrid {
      inputs {
        remote = 'https://downloads.thebiogrid.org/Download/BioGRID/Latest-Release/BIOGRID-ALL-LATEST.psi25.zip'
        produces = 'BIOGRID-ALL-LATEST.psi25.zip'
      }
    }

    "5srrnadb" {
      inputs {
        data.remote = '/nfs/leia/production/xfam/users/bsweeney/provided-data/5srnadb/5srnadb-v1.json'
      }
    }

    ena {
      process {
        force_decompress = true
        directives.memory = 20.GB
      }

      inputs {
        data_file {
          command = 'fetch ena'
          remote = '/nfs/ftp/pub/databases/ena/non-coding/'
          produces = '**/*.ncr.gz'
        }

        tpa_file {
          url_file = "$baseDir/files/import-data/ena/tpa-urls.txt"
          produces = 'tpa.tsv'
        }
      }
    }

    ensembl {
      process.directives.memory = 40.GB

      inputs {
        data_file {
          command = 'fetch ensembl'
          remote = 'ftp://ftp.ensembl.org/pub/current_embl/**/*.dat.gz'
          produces = '*.dat.gz'
          exclude = [
            /Mus_musculus_.*/,
            /Caenorhabditis_elegans.*/,
            /Drosophila_melanogaster.*/,
            /Saccharomyces_cerevisiae.*/,
          ]
        }

        family_file = (params.connections.rfam + [
          query:  "$baseDir/files/import-data/rfam/families.sql",
          produces:  'families.tsv',
        ])

        gencode_gff {
          command = 'fetch gencode'
          url_file = "$baseDir/files/import-data/ensembl/urls.txt"
          produces = 'gencode.gff3'
        }

        exclude_file {
          command = 'fetch ensembl_exclude'
          url_file = "$baseDir/files/import-data/ensembl/exclude-urls.txt"
          produces = "exclude.txt"
        }
      }
    }

    ensembl_plants {
      process.directives.memory = 15.GB

      inputs {
        data {
          command = 'fetch ensembl_plants'
          remote = 'ftp://ftp.ensemblgenomes.org/pub/current/plants/embl/**/*.dat.gz'
          produces = '*.dat.gz'
          exclude = [
            /Cyanidioschyzon_merolae.*/
          ]
        }
      }
    }

    ensembl_fungi {
      inputs {
        data {
          command = 'fetch ensembl_plants'
          remote = 'ftp://ftp.ensemblgenomes.org/pub/current/fungi/embl/**/*.dat.gz'
          produces = '*.dat.gz'
          exclude = [
            /Saccharomyces_cerevisiae.*/,
            /Schizosaccharomyces_pombe.*/,
          ]
        }
      }
    }

    ensembl_protists {
      inputs {
        data {
          command = 'fetch ensembl_protists'
          remote = 'ftp://ftp.ensemblgenomes.org/pub/current/protists/embl/**/*.dat.gz'
          produces = '*.dat.gz'
        }
      }
    }

    ensembl_metazoa {
      inputs {
        data {
          command = 'fetch ensembl_metazoa'
          remote = 'ftp://ftp.ensemblgenomes.org/pub/current/metazoa/embl/**/*.dat.gz'
          produces = '*.dat.gz'
          exclude = [
            /Caenorhabditis_elegans.*/,
            /Drosophila_melanogaster.*/,
          ]
        }
      }
    }

    flybase {
      inputs {
        data {
          remote = 'ftp://ftp.flybase.net/releases/current/precomputed_files/genes/ncRNA*.json.gz'
          produces = 'flybase_ncRNA.json.gz'
        }
      }
    }

    genecards {
      inputs {
        data = '/nfs/leia/production/xfam/users/bsweeney/provided-data/genecards/v12.tsv'
        known {
          command = 'rnac lookup genecards URSid'
          remote = '/nfs/leia/production/xfam/users/bsweeney/provided-data/genecards/v12.tsv'
          produces = 'urs-info.pickle'
        }
      }
    }

    gtrnadb {
      inputs {
        data {
          command = 'fetch gtrnadb'
          remote = '/nfs/production/xfam/users/bsweeney/provided-data/gtrnadb/*.gz'
          produces = '*.json'
        }
      }
    }

    lncbase {
      inputs {
        data.remote = '/nfs/production/xfam/users/bsweeney/provided-data/lncbase/LncBase2.json'
      }
    }

    lncbook {
      process.directives.memory = 5.GB
    }

    lncipedia {
      process.directives.memory = 5.GB

      inputs {
        data.remote = "https://lncipedia.org/downloads/lncipedia_5_3/lncipedia_5_3_rnacentral.json"
      }
    }

    malacards {
      inputs {
        data = '/nfs/leia/production/xfam/users/bsweeney/provided-data/malacards/v12.tsv'
        known {
          command = 'rnac lookup genecards URSid'
          remote = '/nfs/leia/production/xfam/users/bsweeney/provided-data/malacards/v12.tsv'
          produces = 'urs-info.pickle'
        }
      }
    }

    mirbase {
      process.directives.memory = 4.GB

      inputs {
        data.remote = "http://micro.smith.man.ac.uk/~sam/download/mirbase22rnacentral.20180523.json"
      }
    }

    mirgenedb {
      inputs {
        data.remote = '/nfs/leia/production/xfam/users/bsweeney/provided-data/mirgenedb/mirgenedb-v2.json'
      }
    }

    ncbi_gene {
      inputs {
        data_file {
          command = 'rnac ncbi fetch-genes'
          produces = 'ncbi-genes.pickle'
        }
      }
    }

    pdb {
      inputs {
        data_file {
          command = 'rnac fetch pdb data'
          produces = 'pdb.json'
        }
        extra {
          command = 'rnac fetch pdb extra'
          produces = 'pdb-extra.json'
        }
      }
    }

    pombase {
      inputs {
        data.remote = 'ftp://ftp.pombase.org/nightly_update/misc/rnacentral.json'
      }
    }

    silva {
      inputs.data.remote = 'ftp://ftp.arb-silva.de/current/Exports/rnac/SILVA_*_SSUParc.rnac.gz'
    }

    snodb { 
      inputs {
        data.remote = '/nfs/leia/production/xfam/users/bsweeney/provided-data/snodb/snodb-v2.json'
      }
    }

    quickgo {
      release = false
      process {
        directives.memory = 8.GB
      }

      inputs {
        data {
          command = 'fetch quickgo'
          remote = '/ebi/ftp/pub/contrib/goa/goa_rna_all.gpa.gz'
          produces = 'data.gpa'
        }
      }
    }

    refseq {
      inputs {
        data.produces = '*.gbff.gz'
      }
    }

    rfam {
      inputs {
        data.command = 'fetch rfam'
        data.remote = '/hps/nobackup/production/xfam/rfam/RELEASES/14.1/rnacentral/json_files/rfam2rnac*.json'
        data.produces = 'rfam*.json'

        family_file = (params.connections.rfam + [query: "$baseDir/files/import-data/rfam/families.sql", produces: 'families.tsv'])
      }
    }

    rgd {
      inputs {
        data.remote = 'ftp://ftp.rgd.mcw.edu/pub/data_release/UserReqFiles/RAT_NUCLEOTIDE_SEQUENCES.fa.gz'
        genes.remote = 'ftp://ftp.rgd.mcw.edu/pub/data_release/GENES_RAT.txt'
      }
    }

    sgd {
      inputs {
        data.remote = 'https://downloads.yeastgenome.org/latest/RNAcentral.json'
      }
    }

    tarbase {
      inputs {
        data.remote = '/nfs/production/xfam/users/bsweeney/provided-data/tarbase/TarBase8.json'
      }
    }

    zfin {
      inputs {
        data {
          command = 'rnac fetch zfin ftp://zfin.org/RNACentral/rnaCentral.json.gz'
          produces = 'zfin.json'
        }
      }
    }

    zwd {
      inputs {
        data {
          remote = 'https://raw.githubusercontent.com/Rfam/rfam-zwd-import/master/zwd.json'
          produces = 'zwd.json'
        }
      }
    }

    intact {
      inputs {
        data {
          command = 'fetch intact'
          remote = 'ftp://ftp.ebi.ac.uk/pub/databases/intact/current/psimitab/intact.zip'
          produces = 'intact.tsv'
        }
      }
    }

    snorna_database {
      inputs {
        data.remote = '/nfs/leia/production/xfam/users/bsweeney/provided-data/snorna_database/snornadb-2019-11-11.json'
      }
    }
  }
}
