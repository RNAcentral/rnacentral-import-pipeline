rm -rf output/
mkdir output/
/rna/infernal-1.1.2/bin/esl-sfetch --index shuffled.part_178.fasta > /dev/null
/rna/infernal-1.1.2/bin/esl-seqstat --dna -a shuffled.part_178.fasta > output//.ribotyper.seqstat
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --F1 0.02 --doF1b --F1b 0.02 --F2 0.001 --F3 0.00001 --trmF3 --nohmmonly --notrunc --noali  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r1.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/all.cm shuffled.part_178.fasta > /dev/null 2> output//.ribotyper.r1.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r1.cmsearch.tbl.err.tmp > output//.ribotyper.r1.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r1.cmsearch.tbl.err.tmp > output//.ribotyper.r1.cmsearch.tbl.err;rm output//.ribotyper.r1.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r1.cmsearch.tbl.err
grep -v ^# output//.ribotyper.r1.cmsearch.tbl | sort -k 1,1 -k 3,3rn > output//.ribotyper.r1.cmsearch.tbl.sorted
sort -n output//.ribotyper.r1.unsrt.short.out >> output//.ribotyper.r1.short.out
sort -n output//.ribotyper.r1.unsrt.long.out >> output//.ribotyper.r1.long.out
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.BS_LSU_3D.sfetch > output//.ribotyper.BS_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.DM_LSU_3D.sfetch > output//.ribotyper.DM_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.EC_LSU_3D.sfetch > output//.ribotyper.EC_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.HS_LSU_3D.sfetch > output//.ribotyper.HS_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.KL_LSU_3D.sfetch > output//.ribotyper.KL_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.MS_LSU_3D.sfetch > output//.ribotyper.MS_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.SA_LSU_3D.sfetch > output//.ribotyper.SA_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.SC_LSU_3D.sfetch > output//.ribotyper.SC_LSU_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.cSO_23S_3D.sfetch > output//.ribotyper.cSO_23S_3D.fa
/rna/infernal-1.1.2/bin/esl-sfetch -f shuffled.part_178.fasta output//.ribotyper.mHS_LSU_3D.sfetch > output//.ribotyper.mHS_LSU_3D.fa
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/BS_LSU_3D.cm output//.ribotyper.BS_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/DM_LSU_3D.cm output//.ribotyper.DM_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/EC_LSU_3D.cm output//.ribotyper.EC_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/HS_LSU_3D.cm output//.ribotyper.HS_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/KL_LSU_3D.cm output//.ribotyper.KL_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/MS_LSU_3D.cm output//.ribotyper.MS_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/SA_LSU_3D.cm output//.ribotyper.SA_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/SC_LSU_3D.cm output//.ribotyper.SC_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/cSO_23S_3D.cm output//.ribotyper.cSO_23S_3D.fa > /dev/null 2> output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl.err
/usr/bin/time -p /rna/infernal-1.1.2/bin/cmsearch  --hmmonly  -T 10. -Z 0.629716 --cpu 0 --verbose --tblout output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl /rna/auto-traveler/data/ribovision/cms/mHS_LSU_3D.cm output//.ribotyper.mHS_LSU_3D.fa > /dev/null 2> output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl.err.tmp;tail -n 3 output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl.time;awk 'n>=3 { print a[n%3] } { a[n%3]=$0; n=n+1 }' output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl.err.tmp > output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl.err;rm output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl.err.tmp;
rm output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl.err
cat output//.ribotyper.r2.BS_LSU_3D.cmsearch.tbl output//.ribotyper.r2.DM_LSU_3D.cmsearch.tbl output//.ribotyper.r2.EC_LSU_3D.cmsearch.tbl output//.ribotyper.r2.HS_LSU_3D.cmsearch.tbl output//.ribotyper.r2.KL_LSU_3D.cmsearch.tbl output//.ribotyper.r2.MS_LSU_3D.cmsearch.tbl output//.ribotyper.r2.SA_LSU_3D.cmsearch.tbl output//.ribotyper.r2.SC_LSU_3D.cmsearch.tbl output//.ribotyper.r2.cSO_23S_3D.cmsearch.tbl output//.ribotyper.r2.mHS_LSU_3D.cmsearch.tbl > output//.ribotyper.r2.all.cmsearch.tbl
grep -v ^# output//.ribotyper.r2.all.cmsearch.tbl | sort -k 1,1 -k 15,15rn -k 16,16g > output//.ribotyper.r2.all.cmsearch.tbl.sorted
sort -n output//.ribotyper.r2.unsrt.short.out >> output//.ribotyper.r2.short.out
sort -n output//.ribotyper.r2.unsrt.long.out >> output//.ribotyper.r2.long.out
# Thu Nov  7 08:49:33 UTC 2019
# Linux hh-yoda-10-15.ebi.ac.uk 3.10.0-693.5.2.el7.x86_64 #1 SMP Fri Oct 13 10:46:25 EDT 2017 x86_64 GNU/Linux
# RIBO-SUCCESS
